# ============================================================================
# 开发环境配置 (Development)
# ============================================================================

# 应用基础配置
NODE_ENV=development
PORT=8000
HOST=localhost
APP_NAME=Enterprise NestJS Backend
APP_VERSION=1.0.0
API_PREFIX=api/v1
TZ=Asia/Shanghai
APP_TIMEZONE=Asia/Shanghai

# CORS配置
ALLOWED_ORIGINS=http://localhost:8000,http://localhost:8001,http://127.0.0.1:8000

# 数据库配置 (与 Docker Compose 一致)
DATABASE_URL=mysql://app_user:app_password@localhost:3306/enterprise_db
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=app_user
DB_PASSWORD=app_password
DB_DATABASE=enterprise_db
DB_LOGGING=true
DB_SYNCHRONIZE=false

# 缓存配置
# CACHE_TYPE: 缓存类型选择
#   - 'redis': 使用 Redis 缓存
#   - 'memory': 使用内存缓存（开发时可以不启动 Redis）
#   - 'auto': 自动选择，优先 Redis，失败时降级为内存缓存（推荐）
CACHE_TYPE=auto

# Redis配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=enterprise:dev:

# JWT配置
JWT_ACCESS_SECRET=dev-super-secret-jwt-access-key-32-chars-minimum-length-required
JWT_REFRESH_SECRET=dev-super-secret-jwt-refresh-key-32-chars-minimum-length-required
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=enterprise-nestjs-backend
JWT_AUDIENCE=enterprise-nestjs-backend

# 日志配置
LOG_LEVEL=debug                   # 日志级别：debug, info, warn, error
LOG_DIR=logs                      # 日志文件存储目录
LOG_MAX_SIZE=20m                  # 单个日志文件最大大小
LOG_MAX_FILES=14d                 # 日志文件保留时间
LOG_DATE_PATTERN=YYYY-MM-DD       # 日志文件日期格式
LOG_ZIPPED_ARCHIVE=true           # 是否压缩归档旧日志
LOG_ENABLE_CONSOLE=true           # 输出到控制台（Docker 环境需要）

# 数据库日志配置
# 开发环境建议全局启用，方便调试和问题排查
LOG_ENABLE_DATABASE=true          # 全局启用数据库日志
LOG_DB_RETENTION_DAYS=30          # 数据库日志保留天数

# 限流配置
THROTTLE_SHORT_TTL=1000           # 1秒
THROTTLE_SHORT_LIMIT=50           # 50次/秒（开发时可能并发请求多）
THROTTLE_MEDIUM_TTL=60000         # 1分钟
THROTTLE_MEDIUM_LIMIT=500         # 500次/分钟
THROTTLE_LONG_TTL=3600000         # 1小时
THROTTLE_LONG_LIMIT=5000          # 5000次/小时

# 文件上传配置
MAX_FILE_SIZE=10485760
UPLOAD_DEST=./uploads
UPLOAD_ALLOWED_MIMETYPES=image/jpeg,image/png,image/webp,application/pdf

# 安全配置
BCRYPT_ROUNDS=12
SESSION_SECRET=dev-session-secret-key
CSRF_SECRET=dev-csrf-secret-key
MAX_CONCURRENT_SESSIONS=5         # 最大并发登录设备数 (1-10, 设置为1实现单设备登录)

# 邮件配置 (开发环境可选)
MAIL_HOST=
MAIL_PORT=587
MAIL_USER=
MAIL_PASS=
MAIL_FROM=noreply@enterprise.local

# 外部服务配置 (开发环境)
SMS_API_KEY=
SMS_API_SECRET=